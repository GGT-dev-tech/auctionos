<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link id="favicon" rel="icon" type="image/png" href="/favicon.ico" />
	<title>Parcel List Search - Parcel Fair</title>
	<script src="/bundles/jquery?v=2u0aRenDpYxArEyILB59ETSCA2cfQkSMlxb6jbMBqf81"></script>

	<link href="/Content/css?v=120ZKF_Z1-mgFBqToPamd_kQ5RRRu4L6u5pT2UWvc9Y1" rel="stylesheet"/>

	<script src="/bundles/application?v=-gau4D66ghk2M9P12kqAQ6x9JwyUdiS5rOkP1rJ5AQo1"></script>

	
	
	
	<style>
		th { position: sticky; top: 50px; z-index: 999; position: -webkit-sticky; background-color: #fff; }
	</style>



	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-YX1L41HKYF"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());
		gtag('config', 'G-YX1L41HKYF');
	</script>
</head>
<body>
<style>
	.dropdown-section { 
	display: block; padding: 3px 15px; font-size: 16px;
	line-height: 1.42857143; color: #777777; white-space: nowrap;
	background-color:#ededed;
	}
</style>
	<div class="navbar navbar-inverse navbar-fixed-top hidden-print">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a href="/" class="navbar-brand">Parcel Fair</a>
			</div>
			<div class="navbar-collapse collapse">
				<ul class="nav navbar-nav">
						<li><a href="/dashboard">Home</a></li>
					<li><a href="/Home/About">About</a></li>
					<li><a href="/Home/Contact">Contact</a></li>
					<li class="dropdown">
						<a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
							Tools <span class="caret"></span>
						</a>
						<ul class="dropdown-menu" aria-labelledby="Tools">
							<li class="dropdown-section">Find Parcels:</li>
							<li><a href="/Map" target="_blank"><span class="glyphicon glyphicon-map-marker"></span> Map Search</a></li>
							<li><a href="/Parcel" target="_blank"><span class="glyphicon glyphicon-search"></span> List Search</a></li>
							<li><a href="/Auction/Calendar"><span class="glyphicon glyphicon-calendar"></span> Auction Calendar</a></li>
							<li><a href="/Inventory"><span class="glyphicon glyphicon-saved"></span> OTC Inventory Tracker</a></li>
							<li class="dropdown-section">My Research:</li>
							<li><a href="/Dashboard"><span class="glyphicon glyphicon-th-large"></span> My Dashboard</a></li>
							<li><a href="/Parcel/Favorites"><span class="glyphicon glyphicon-heart"></span> My Favorites</a></li>
							<li><a href="/Lists"><span class="glyphicon glyphicon-list"></span> My Saved Lists</a></li>
							<li><a href="/PriceNotice"><span class="glyphicon glyphicon-tag"></span> Price Notice Organizer</a></li>
						</ul>
					</li>
						<li class="dropdown">
							<a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
								Connect<span class="caret"></span>
							</a>
							<ul class="dropdown-menu" aria-labelledby="Connect">
								
								<li><a href="/Video/ParcelFair101"><span class="glyphicon glyphicon-book"></span> Parcel Fair 101 Training</a></li>
								<li><a href="https://www.youtube.com/c/ParcelFair" target="_blank"><span class="glyphicon glyphicon-play"></span> YouTube Community</a></li>
									<li><a href="https://www.facebook.com/groups/parcelfair" target="_blank"><span class="glyphicon glyphicon-user"></span> Facebook Group</a></li>
																<li><a href="/Video/OnlineMeetup"><span class="glyphicon glyphicon-play-circle"></span> Online Meetups</a></li>
									<li><a href="/Manage"><span class="glyphicon glyphicon-wrench"></span> Account Support</a></li>
							</ul>
						</li>
					</ul>
				<form action="/Account/LogOff" class="navbar-right" id="logoutForm" method="post"><input name="__RequestVerificationToken" type="hidden" value="aNBgz0MDX0VHKBSnFb_b9soxuxc8X8PgROoDyjPyhyUu7gnz60q1eHQhal6-K8nTgFXAtzXatJkxyzjbz50gRTxP2wSyMmyW_FvCRdm5IMjUSlYjN0wp3NWULPlL_jneyVyOleidp1rLUd6VKo2KWw2" />		<ul class="nav navbar-nav navbar-right">
			<li>
				<a href="/Manage" title="Manage">gustavot.gomes7@gmail.com</a>
			</li>
					<li>
						<div style="margin:8px;">
							<a href="../Subscription/" class="btn btn-success"><span class="glyphicon glyphicon-flash"></span> Upgrade Trial Account</a>
						</div>
					</li>
			<li>
				<div style="margin:8px;">
					<a href="javascript:document.getElementById('logoutForm').submit()" class="btn btn-warning">Log off</a>
				</div>
			</li>
		</ul>
</form>
			</div>
		</div>
	</div>



<style>	h4, h5 { margin: 2px 0 2px 0 }</style>


	<div class="row">
		<div class="alert alert-info lead text-center">
			Enjoying your free trial? Subscribe to Parcel Fair for unlimited access and enjoy all of our features!
			<br /><br /><a href="/Subscription/" class="btn btn-success btn-lg btn txt-lg">Upgrade Subscription</a><br />
		</div>
	</div>
<div class="full-page">
	<h2>
		Parcel Search
		&nbsp;
		<div id="nav" data-toggle="modal" data-target="#searchModal" style="position:relative; display:inline; bottom:auto;">
			<span id="mobileNav" class="glyphicon glyphicon-search text-primary"></span>
			<span id="resultCount"></span>
		</div>
		<span id="viewOptions" style="display:none;">
			&nbsp; <a href="#" class="btn btn-success btn-sm" id="exportButton"><span class="glyphicon glyphicon-export"></span> Export to CSV</a>
			&nbsp; <a href="#" class="btn btn-primary btn-sm" id="resultsToListButton"><span class="glyphicon glyphicon-save"></span> Save Results to List</a>
			&nbsp;	<a href="#" class="btn btn-info btn-sm" id="resultsToMapButton"><span class="glyphicon glyphicon-map-marker"></span> Show Results on Map</a>
		</span>
	</h2>
	<style>
	#resultsTable {display: none;}
	th {cursor: pointer;text-align: center;}
	td { text-align: center; }
	th { position: sticky; top: 50px; z-index: 999; position: -webkit-sticky; background-color: #fff; }
	table tr td:nth-child(5) { max-width: 40ch; word-break: break-word; white-space: normal; overflow-wrap: break-word; }
</style>

<div class="panel">
	<div class="panel-body" style="padding-left:0px">
		<table class="table" id="resultsTable">
			<tr>
				<th></th>
				<th>Parcel Number</th>
				<th>C/S#</th>
				<th>PIN</th>
				<th>Name</th>
				<th>County</th>
				<th>State</th>
				<th>Availability</th>
				<th>Sale Year</th>
				
				<th>Amount Due</th>
				<th>Acres</th>
				<th>Total Value</th>
				<th>Land</th>
				<th>Building</th>
				
				<th>Parcel Type</th>
				<th>Status</th>
				<th>Address</th>
				<th>Next Auction</th>
				<th>Occupancy</th>
			</tr>
		</table>
	</div>
</div>

<script>
	function addRow(parcel, rowId, actions) {
		var rowIdDisplay = '';
		var actionsDisplay = '';
		var redemptionNoticeDisplay = '';
		var assessedValue = '';
		if (parcel.AssessedValue > 0) assessedValue = parcel.AssessedValue;

		if (rowId) rowIdDisplay = ' id="' + rowId + '"';
		if (parcel.RedemptionNoticeDate) {
			redemptionNoticeDisplay = '<br/><span class="text-danger">Redeemed ' + formatDate(parcel.RedemptionNoticeDate) + '</span>';
		}

		var rowClassDisplay = '';

		if (!parcel.IsActive) {
			rowClassDisplay = ' class="bg-gray"';
		}

		//console.log('next auction:' + parcel.NextAuction);

		if (actions) actionsDisplay = actions;
		var newRow = '<tr' + rowIdDisplay + rowClassDisplay + '>' +
			'<td>' + actionsDisplay + '</td>' +
			'<td><a href="/Parcel/Details/' + parcel.ParcelId + '" target="_blank">' + parcel.FormattedParcelNumber + '</a></td>' +
			'<td>' + parcel.CsNumber + '</td>' +
			'<td>' + parcel.PIN + '</td>' +
			'<td>' + properCase(parcel.Name) + '</td>' +
			'<td>' + parcel.CountyName + '</td>' +
			'<td>' + parcel.State + '</td>' +
			'<td>' + ((parcel.IsActive) ? '<span class="text-success">Available</span>' : '<span class="text-danger">Unavailable</span>') + redemptionNoticeDisplay + '</td>' +
			'<td>' + (parcel.SaleYear > 0 ? parcel.SaleYear : '') + '</td>' +
			'<td>' + formatCurrency(parcel.AmountDueAtSale) + '</td>' +
			'<td>' + parcel.CalculatedAcreage.toFixed(2) + '</td>' +
			'<td>' + formatCurrency(parcel.TotalValue) + '</td>' +
			'<td>' + formatCurrency(parcel.LandValue) + '</td>' +
			'<td>' + formatCurrency(parcel.ImprovementsValue) + '</td>' +
			'<td>' + parcel.PropertyType + '</td>' +
			'<td>' + parcel.TaxStatus + '</td>' +
			'<td>' + properCase(parcel.Address) + '<br/>' + properCase(parcel.City) + ' ' + parcel.State + ' ' + parcel.Zip + '</td>' +
			'<td>' + (parcel.NextAuctionDate != null ? formatDate(parcel.NextAuctionDate) : '') + '</td>' +
			'<td>' + (parcel.Occupancy != null ? parcel.Occupancy : '') + '</td>' +
			'</tr>';
		//'<td>' + formatCurrency(assessedValue) + '</td>' +
		//'<td>' + (parcel.DateAdded != null ? formatDate(parcel.DateAdded) : '') + '</td>' +
		//'<td>' + parcel.DelinquentYear + '</td>' +
		$('#resultsTable tr:last').after(newRow);
	}

	function hideResults() { $('#resultsTable').hide(); $('#resultsHeader > span').html(''); $('#exportButton').hide(); }
	function showResults() { $('#resultsTable, #exportButton').fadeIn(); $('#resultsTable, #exportButton').removeClass('hide'); }
	function loadingState() { $('#resultsHeader > span').html(loadingHtml); }

	$('th').click(function () {
		var table = $(this).parents('table').eq(0);
		var index = $(this).index();
		$('#resultsTable').fadeOut(400, function () {
			var rows = table.find('tr:gt(0)').toArray().sort(comparer(index));
			this.asc = !this.asc;
			if (!this.asc) { rows = rows.reverse(); }
			for (var i = 0; i < rows.length; i++) { table.append(rows[i]); }
		});
		$('#resultsTable').fadeIn();
	});
</script>	
		<form id="searchForm" method="get">
		<style>
			option { padding: 0; }
			#SearchCriteria_TextFilter { max-width: 140px; }
			.input-tiny { width: 73px !important;}
			select{ max-width: 200px;}
		</style>

		<div class="modal" id="searchModal" tabindex="-1" role="dialog" aria-labelledby="Search" aria-hidden="true">
			<div class="modal-dialog">
				<div class="text-center modal-content">
					<div class="modal-body">
						<div class="row">
							<div class="col-md-12">
								<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
							</div>
						</div>
						<h3 class="text-primary row">
							<ul class="nav nav-tabs">
								<li class="active"><a href="#"><span class="glyphicon glyphicon-search"></span> Search Filters</a></li>
								<li><a href="#" onclick="openSelectQuickSearchModal();"><span class="glyphicon glyphicon-flash"></span> Quick Searches</a></li>
							</ul>
						</h3>
						<div class="row bg-info">
							<div class="col-md-5 text-center">
								<br />
								<select class="input-lg" id="SearchCriteria_State" name="SearchCriteria.State" style="max-width:100%"><option value="AL">Alabama</option>
<option value="AK">Alaska</option>
<option value="AZ">Arizona</option>
<option value="AR">Arkansas</option>
<option value="CA">California</option>
<option value="CO">Colorado</option>
<option value="CT">Connecticut</option>
<option value="DE">Delaware</option>
<option selected="selected" value="FL">Florida</option>
<option value="GA">Georgia</option>
<option value="HI">Hawaii</option>
<option value="ID">Idaho</option>
<option value="IL">Illinois</option>
<option value="IN">Indiana</option>
<option value="IA">Iowa</option>
<option value="KS">Kansas</option>
<option value="KY">Kentucky</option>
<option value="LA">Louisiana</option>
<option value="ME">Maine</option>
<option value="MD">Maryland</option>
<option value="MA">Massachusetts</option>
<option value="MI">Michigan</option>
<option value="MN">Minnesota</option>
<option value="MS">Mississippi</option>
<option value="MO">Missouri</option>
<option value="MT">Montana</option>
<option value="NE">Nebraska</option>
<option value="NV">Nevada</option>
<option value="NH">New Hampshire</option>
<option value="NJ">New Jersey</option>
<option value="NM">New Mexico</option>
<option value="NY">New York</option>
<option value="NC">North Carolina</option>
<option value="ND">North Dakota</option>
<option value="OH">Ohio</option>
<option value="OK">Oklahoma</option>
<option value="OR">Oregon</option>
<option value="PA">Pennsylvania</option>
<option value="RI">Rhode Island</option>
<option value="SC">South Carolina</option>
<option value="SD">South Dakota</option>
<option value="TN">Tennessee</option>
<option value="TX">Texas</option>
<option value="UT">Utah</option>
<option value="VT">Vermont</option>
<option value="VA">Virginia</option>
<option value="WA">Washington</option>
<option value="DC">Washington D.C.</option>
<option value="WV">West Virginia</option>
<option value="WI">Wisconsin</option>
<option value="WY">Wyoming</option>
</select>
							</div>
							<div class="col-md-5 text-center">
								<br />
								<select name="SearchCriteria.CountyCode" id="SearchCriteria_CountyCode" class="input-lg" style="max-width:100%">
									<option value="0">All Counties</option>
								</select>
								
							</div>
							<div class="col-md-2 text-center">
								<br />
								<button id="searchButton" class="btn btn-primary input-lg" data-dismiss="modal">GO</button>
							</div>
							<input data-val="true" data-val-number="The field Latitude must be a number." data-val-required="The Latitude field is required." id="SearchCriteria_Coordinates_Latitude" name="SearchCriteria.Coordinates.Latitude" type="hidden" value="0" />
							<input data-val="true" data-val-number="The field Longitude must be a number." data-val-required="The Longitude field is required." id="SearchCriteria_Coordinates_Longitude" name="SearchCriteria.Coordinates.Longitude" type="hidden" value="0" />
							<br />&nbsp;
						</div>
						<div class="row bg-success">
							<h5 class="col-md-12 text-center">
								&nbsp;<span id="matchCountPanel">Matching Properties: <span id="matchCount" class="bold"></span></span>
							</h5>
						</div>
						<br />
						<div class="row text-left">
							<div class="col-md-6">
								<h4 class="text-info">
									<span class="glyphicon glyphicon-filter"></span> Optional Filters:
								</h4>
							</div>
							<div class="col-md-6 text-right">
								<button class="btn btn-toolbar btn-xs" onclick="resetFilters(); return false;">
									<span class="glyphicon glyphicon-refresh"></span>
									Clear Filters
								</button>
							</div>
						</div>
						<br />
						<div class="row">
							<div class="col-md-4 text-center">
								<span class="glyphicon glyphicon-question-sign text-primary" data-toggle="popover" data-placement="top" data-content="Filter property search by inventory type to show over-the-counter (OTC) properties that can be purchased year-round, upcoming tax auctions, or reseller properties (where available)"></span>
								
								<label for="SearchCriteria_InventoryType">Inventory</label>
								<br />
								<select name="SearchCriteria.InventoryType" id="SearchCriteria_InventoryType" class="input-sm" style="max-width:100%">
									<optgroup label="Inventory Type:">
											<option value="" >All Inventories</option>
											<option value="OTC" >Over-the-Counter (OTC)</option>
											<option value="Auction" >Upcoming Auctions</option>
											<option value="Reseller" >Resellers Only</option>
											<option value="OTC,Reseller" >OTC &amp; Resellers</option>
									</optgroup>
								</select>
								
							</div>
							<div class="col-md-4 text-center">
								<span class="glyphicon glyphicon-question-sign text-primary" data-toggle="popover" data-placement="top" data-content="Filter by the property's improvements to focus on either vacant land or properties with buildings and other improvements.  (*Note: This option is unavailable in some state / county markets where improvements are unknown.)"></span>
								<label for="SearchCriteria_PropertyType">Improvements</label>
								<br /><select class="input-sm" id="SearchCriteria_PropertyType" name="SearchCriteria.PropertyType"><option value="">All Parcel Types</option>
<option value="Land">Vacant Land</option>
<option value="Buildings">Improvements</option>
</select>
							</div>
							<div class="col-md-4 text-center">
								<span class="glyphicon glyphicon-question-sign text-primary" data-toggle="popover" data-placement="top" data-content="Filter by the property's tax status (Deed, Lien, Foreclosure) or by the tax sale year"></span>
								<label for="SearchCriteria_TaxStatus">Availability</label>
								<br /><select class="input-sm" id="SearchCriteria_TaxStatus" name="SearchCriteria.TaxStatus"><option value="">All Available</option>
<option value="Cert">Certificates Only</option>
<option value="Deed">Deeds Only</option>
<option value="Foreclosure">Foreclosures Only</option>
<option value="Lien">Liens Only</option>
<option value="Quiet Title">Quiet Title Only</option>
<option value="Quit Claim">Quit Claim Only</option>
<option value="2+ Liens">2+ Liens Available</option>
<option value="3+ Liens">3+ Liens Available</option>
<option value="4+ Liens">4+ Liens Available</option>
<option value="2026">2026</option>
<option value="2025">2025</option>
<option value="2024">2024</option>
<option value="2023">2023</option>
<option value="2022">2022</option>
<option value="2021">2021</option>
<option value="2020">2020</option>
<option value="2019">2019</option>
<option value="2018">2018</option>
<option value="5 years+">5+ Years Delinquent</option>
<option value="10 years+">10+ Years Delinquent</option>
</select>
							</div>
						</div>
						<br />
						<br />
						<div class="row">
							<div class="editor-label col-md-4 text-center">
								<span class="glyphicon glyphicon-question-sign text-primary" data-toggle="popover" data-placement="top" data-content="Filter search results by the county's total appraised value of a property by entering a minimum dollar value and/or a maximum dollar value"></span>
								<label for="SearchCriteria_MinTotalValue">County Appraisal from </label>
								<br />
								<input class="input-tiny" data-val="true" data-val-number="The field County Appraisal from  must be a number." id="SearchCriteria_MinTotalValue" max="9000000" min="0" name="SearchCriteria.MinTotalValue" placeholder="min $" step="1000" type="number" value="" />
								to
								<input class="input-tiny" data-val="true" data-val-number="The field MaxTotalValue must be a number." id="SearchCriteria_MaxTotalValue" max="9999999" min="0" name="SearchCriteria.MaxTotalValue" placeholder="max $" step="1000" type="number" value="" />
							</div>
							<div class="editor-label col-md-4 text-center">
								<span class="glyphicon glyphicon-question-sign text-primary" data-toggle="popover" data-placement="top" data-content="Filter search results by the amount due (opening bid in the case of auctions) by entering a minimum dollar value and/or a maximum dollar amount below"></span>
								<label for="SearchCriteria_MinAmountDueAtSale">Amount Due from </label>
								<br />
								<input class="input-tiny" data-val="true" data-val-number="The field Amount Due from  must be a number." id="SearchCriteria_MinAmountDueAtSale" max="9000000" min="0" name="SearchCriteria.MinAmountDueAtSale" placeholder="min $" step="10" type="number" value="" />
								to
								<input class="input-tiny" data-val="true" data-val-number="The field  and  must be a number." id="SearchCriteria_MaxAmountDueAtSale" max="9999999" min="0" name="SearchCriteria.MaxAmountDueAtSale" placeholder="max $" step="10" type="number" value="" />
							</div>
							<div class="editor-label col-md-4 text-center">
								<span class="glyphicon glyphicon-question-sign text-primary" data-toggle="popover" data-placement="top" data-content="Filter search results by the calculated acreage for a property by entering a minimum acreage and/or maximum acreage below"></span>
								<label for="SearchCriteria_MinAcreage">Acreage from </label>
								<br />
								<input class="input-tiny" data-val="true" data-val-number="The field Acreage from  must be a number." id="SearchCriteria_MinAcreage" max="1000" min="0" name="SearchCriteria.MinAcreage" placeholder="min #" step="0.05" type="number" value="" />
								to
								<input class="input-tiny" data-val="true" data-val-number="The field  and  must be a number." id="SearchCriteria_MaxAcreage" max="999" min="0" name="SearchCriteria.MaxAcreage" placeholder="max #" step="0.05" type="number" value="" />
							</div>
						</div>
						<br />
						<br />
						<div class="row">
							<div class="editor-label col-md-4 text-center">
								<span class="glyphicon glyphicon-question-sign text-primary" data-toggle="popover" data-placement="top" data-content="Limit your property search to only properties that have been verified as Vacant or Occupied within the last 60 days by the U.S. Postal Service"></span>
								<label for="SearchCriteria_Occupancy">Occupancy</label>
								<br />
								<select class="input-sm" id="SearchCriteria_Occupancy" name="SearchCriteria.Occupancy"><option value="">All Occupancy Types</option>
<option value="Vacant">Vacant Only</option>
<option value="Occupied">Occupied Only</option>
</select>
							</div>
							<div class="editor-label col-md-4 text-center">
								<span class="glyphicon glyphicon-question-sign text-primary" data-toggle="popover" data-placement="top" data-content="Limit property results by remote owner opportunities where the owner's residence is different than that delinquent parcel's location"></span>
								<label for="SearchCriteria_RemoteOwners">Owner Location</label>
								<br />
								<select class="input-sm" id="SearchCriteria_RemoteOwners" name="SearchCriteria.RemoteOwners"><option value="">All Owner Locations</option>
<option value="State">Out of State Owners</option>
<option value="City">Out of City Owners</option>
<option value="Address">Diff. Owner Address</option>
</select>
							</div>
							<div class="col-md-4">
								<span class="glyphicon glyphicon-question-sign text-primary" data-toggle="popover" data-placement="top" data-content="Search by parcel number, account number, zip code, owner name, legal description, city, street address, or notes that you've saved on a property"></span>
								<label for="SearchCriteria_TextFilter">Keyword Search</label>
								<br />
								<input class="input-sm" id="SearchCriteria_TextFilter" name="SearchCriteria.TextFilter" placeholder="parcel #, zip, pin, owner..." type="text" value="092729000001050000" />
							</div>
						</div>
						<br /><br />
						<div class="row text-left">
							<div class="col-md-12">
								<h4 class="text-muted"><span class="glyphicon glyphicon-filter"></span> Advanced Filters:</h4>
							</div>
						</div>
						<br />
						<div class="row text-muted">
							<div class="editor-label col-md-3 text-center">
								<span class="glyphicon glyphicon-question-sign text-primary" data-toggle="popover" data-placement="top" data-content="Filter search results by the date when the parcel was last added to one of the available inventories"></span>
								<label for="SearchCriteria_MaxDaysOld">Added</label>
								<br /><select class="input-sm" data-val="true" data-val-number="The field Added must be a number." id="SearchCriteria_MaxDaysOld" name="SearchCriteria.MaxDaysOld"><option value="">Whenever</option>
<option value="1">Today</option>
<option value="7">Last 7 days</option>
<option value="14">Last 14 days</option>
<option value="30">Last 30 days</option>
<option value="90">Last 90 days</option>
</select>
							</div>
							<div class="editor-label col-md-3 text-center">
								<span class="glyphicon glyphicon-question-sign text-primary" data-toggle="popover" data-placement="top" data-content="Filter search results to include parcels that are no longer available. You can choose how long the parcels have been unavailable (Past 24 hours, Past 7 days, etc)"></span>
								<label for="SearchCriteria_MaxDaysUnavailable">Unavailable</label>
								<br /><select class="input-sm" data-val="true" data-val-number="The field Unavailable must be a number." id="SearchCriteria_MaxDaysUnavailable" name="SearchCriteria.MaxDaysUnavailable"><option value="">Do Not Include</option>
<option value="1">Past 24 hours</option>
<option value="7">Past 7 days</option>
<option value="14">Past 14 days</option>
<option value="30">Past 30 days</option>
<option value="90">Past 90 days</option>
<option value="365">Past Year</option>
<option value="0">All Unavailable</option>
</select>
							</div>
							<div class="editor-label col-md-3 text-center">
								<span class="glyphicon glyphicon-question-sign text-primary" data-toggle="popover" data-placement="top" data-content="Filter search results by distance based on the center of the map. You can center your map on any location and use this option to limit properties by distance fom the center of the map (1/4 mile, 1/2 mile, etc)"></span>
								<label for="SearchCriteria_MaxRadiusMiles">Located Within</label>
								<br /><select class="input-sm" data-val="true" data-val-number="The field Located Within must be a number." id="SearchCriteria_MaxRadiusMiles" name="SearchCriteria.MaxRadiusMiles"><option value="">Unlimited</option>
<option value=".25">1/4 mile</option>
<option value=".5">1/2 mile</option>
<option value="1">1 mile</option>
<option value="2">2 miles</option>
<option value="5">5 miles</option>
<option value="10">10 miles</option>
<option value="25">25 miles</option>
<option value="50">50 miles</option>
<option value="100">100 miles</option>
<option value="200">200 miles</option>
<option value="500">500 miles</option>
</select>
							</div>
							<div class="editor-label col-md-3 text-center">
								<span class="glyphicon glyphicon-question-sign text-primary" data-toggle="popover" data-placement="top" data-content="Limit the max number of results returned by selecting a max result option (100 parcels, 500 parcels, etc)"></span>
								<label for="SearchCriteria_MaxResults">Max Results</label>
								<br /><select class="input-sm" data-val="true" data-val-number="The field Max Results must be a number." id="SearchCriteria_MaxResults" name="SearchCriteria.MaxResults"><option value="">Unlimited</option>
<option value="100">100 parcels</option>
<option value="500">500 parcels</option>
<option value="1000">1k parcels</option>
<option value="5000">5k parcels</option>
<option value="10000">10k parcels</option>
</select>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</form>
	<script>
	var matchSequence = 0;
	var stateChanged = false;
	var countyChanged = false;

	var selectedState = 'FL';
	if (selectedState === '') selectedState = 'AL';

	var selectedCounty = '0';
	if (selectedCounty === '') selectedCounty = '0';

	$('#searchButton').click(function () { search(); });
	$("#searchForm").submit(function (event) { event.preventDefault(); });

	$('.modal-body select, .modal-body input').change(function () {
		hideMatchCount();

		//if state changed, start from the top of the event handlers:
		var newSelectedState = $("#SearchCriteria_State option:selected").val();

		if (newSelectedState !== selectedState) {
			stateChanged = true;
			selectedState = newSelectedState;
			updateCountyOptions();
		}
		else {
			var newSelectedCounty = $("#SearchCriteria_CountyCode option:selected").val();
			//if county changed, pick up at inventory type & cascade from there
			if (newSelectedCounty !== selectedCounty) {
				countyChanged = true;
				selectedCounty = newSelectedCounty;
				updateInventoryTypeOptions();
			}
			else { //if something else changed, just update the match count only
				updateMatchCount();
			}
		}
		stateChanged = false;
		countyChanged = false;
	});

	function openSearchFormModal() {
		$('.modal').modal('hide');
		$('#searchModal').modal('show');
	}

	updateCountyOptions(); //initialize at the county level and cascade down

	$(function () { $('[data-toggle="popover"]').popover(); });

	function updateCountyOptions() {
		var state = $("#SearchCriteria_State option:selected").val();
		if (!state) state = selectedState;

		$("#SearchCriteria_CountyCode > option[value!='0']").remove()

		//hide vacant land / structure filter in some cases
		if (state === "MI" || selectedCounty === "20209" || selectedCounty === "4013" || selectedCounty === "55031") hideImprovementsFilter();
		else showImprovementsFilter();

		$.ajax({
			url: '/Parcel/ActiveCountiesByState',
			data: JSON.stringify({ State: state }),
			contentType: 'application/json; charset=utf-8',
			dataType: 'json',
			type: 'POST',
			success: function (results) {
				var options = '';
				$.each(results, function (i, item) {
					var selected = item.Value === selectedCounty ? 'selected' : '';
					options += '<option value="' + item.Value + '" ' + selected + '>' + item.Name + '</option>';
				});
				$("#SearchCriteria_CountyCode").append(options);

				if (stateChanged) $("#SearchCriteria_CountyCode").val("0"); //reset
				updateInventoryTypeOptions();
			}
		});
	}

	function hideImprovementsFilter() {
			$('#SearchCriteria_PropertyType').val($('#SearchCriteria_PropertyType option:first').val());
			$('#SearchCriteria_PropertyType option:first').text('Unavailable');
			$('#SearchCriteria_PropertyType').prop('disabled', true);
	}

	function showImprovementsFilter() {
		$("#SearchCriteria_PropertyType").prop("disabled", false);
		$('#SearchCriteria_PropertyType option:contains("Unavailable")').text('All Parcel Types');
	}

	function updateInventoryTypeOptions() {
		var state = $("#SearchCriteria_State option:selected").val();
		var countyCode = $("#SearchCriteria_CountyCode option:selected").val();

		//hide vacant land / structure filter in some cases
		if (state === "MI" || countyCode === "20209" || countyCode == "4013" || countyCode == "55031") hideImprovementsFilter();
		else showImprovementsFilter();

		var lastSelectedName = $('#SearchCriteria_InventoryType option:selected').text();
		var lastSelectedValue = '';
		$("#localInventoryOptions").remove();

		if (countyCode > 0)
		{
			var request = { CountyCode: countyCode };

			$.ajax({
				url: '/Parcel/ActiveInventoriesByCounty',
				data: JSON.stringify(request),
				contentType: 'application/json; charset=utf-8',
				dataType: 'json',
				type: 'POST',
				success: function (results) {
					if (results.length > 0){
						var $group = $('<optgroup label="Specific Inventory:" id="localInventoryOptions">');
						$.each(results, function (i, item) {
							var selected = item.Value === lastSelectedValue ? 'selected' : '';
							$group.append('<option value="' + item.Value + '" ' + selected + ' class="localInventoryOption">' + item.Name + '</option>')
						});
						$("#SearchCriteria_InventoryType").append($group);
					}

					//select previous option if available (and county selection changed by user):
					if (countyChanged) {
						if (lastSelectedName !== '' && lastSelectedName !== null) {
							$('#SearchCriteria_InventoryType option').filter(function (index) {
								return $(this).text() === lastSelectedName && $(this).selectedIndex !== 0;
							}).prop('selected', true);
						}
					}
				}
			});
		}
		if (stateChanged) $("#SearchCriteria_InventoryType").val(""); //reset

		updateTaxStatusOptions(state);
	}

	function updateTaxStatusOptions() {
		var state = $("#SearchCriteria_State option:selected").val();

		//move to AJAX eventually... placeholder for now
		$("#SearchCriteria_TaxStatus option").each(function () {
			var showLienOptions = false;
			var showCertOptions = false;
			var showForeclosureOptions = false;
			var showQuitClaimOptions = false;

			if (state === "AL" || state === "AZ" || state === "CO" || state === "FL" || state === "SC") { showLienOptions = true; }
			if (state === "AL") { showCertOptions = true; }
			if (state === "CO" || state === "FL" || state === "IN" || state === "NC" || state === "PA" || state === "SC" || state === "WA") { showForeclosureOptions = true; }
			if (state === "AL") { showQuitClaimOptions = true; }

			if ($(this).val().includes("+ Liens")) {
				if (showLienOptions) $(this).show();
				else $(this).hide();
			}

			if ($(this).val().includes("Cert")) {
				if (showCertOptions) $(this).show();
				else $(this).hide();
			}

			if ($(this).val().includes("Forec")) {
				if (showForeclosureOptions) $(this).show();
				else $(this).hide();
			}

			if ($(this).val().includes("Quit Claim")) {
				if (showQuitClaimOptions) $(this).show();
				else $(this).hide();
			}
		});

		$("#SearchCriteria_InventoryType option").each(function () {
			var showResellers = false;
			if (state === "AL" || state === "MS") { showResellers = true; }

			if ($(this).val().includes("Reseller")) {
				if (showResellers) $(this).show();
				else $(this).hide();
			}
		});

		if (stateChanged) $("#SearchCriteria_TaxStatus").val(""); //reset

		updateMatchCount();
	}

	function resetFilters() {
		hideMatchCount();

		$("#SearchCriteria_PropertyType").val($("#SearchCriteria_PropertyType option:first").val());
		$("#SearchCriteria_TaxStatus").val($("#SearchCriteria_TaxStatus option:first").val());
		$("#SearchCriteria_InventoryType").val($("#SearchCriteria_InventoryType option:first").val());
		$("#SearchCriteria_Occupancy").val($("#SearchCriteria_Occupancy option:first").val());
		$("#SearchCriteria_RemoteOwners").val($("#SearchCriteria_RemoteOwners option:first").val());
		$("#SearchCriteria_MaxDaysOld").val($("#SearchCriteria_MaxDaysOld option:first").val());
		$("#SearchCriteria_MaxDaysUnavailable").val($("#SearchCriteria_MaxDaysUnavailable option:first").val());
		$("#SearchCriteria_MaxRadiusMiles").val($("#SearchCriteria_MaxRadiusMiles option:first").val());
		$("#SearchCriteria_MaxResults").val($("#SearchCriteria_MaxResults option:first").val());

		$("#SearchCriteria_MinTotalValue").val("");
		$("#SearchCriteria_MaxTotalValue").val("");
		$("#SearchCriteria_MinAmountDueAtSale").val("");
		$("#SearchCriteria_MaxAmountDueAtSale").val("");
		$("#SearchCriteria_MinAcreage").val("");
		$("#SearchCriteria_MaxAcreage").val("");
		$("#SearchCriteria_TextFilter").val("");

		updateMatchCount();
	}

	function updateMatchCount() {
		var cachedMatchSequence = matchSequence;
		var criteria = currentCriteria(true);
		var countyCode = $("#SearchCriteria_CountyCode option:selected").val();

		$.ajax({
			url: '/Parcel/MatchCount',
			data: '{"SearchCriteria" : ' + JSON.stringify(criteria) + '}',
			contentType: 'application/json; charset=utf-8',
			dataType: 'json',
			type: 'POST',
			success: function (results) {
				if (cachedMatchSequence === matchSequence) {
					matchSequence++;
					updateMatchCountDisplay(results);
				} else { console.log('match sequence fail'); }
			}
		});
		//if (countyCode !== "0") {
		//	$.ajax({
		//		url: '/Parcel/MatchCount',
		//		data: '{"SearchCriteria" : ' + JSON.stringify(criteria) + '}',
		//		contentType: 'application/json; charset=utf-8',
		//		dataType: 'json',
		//		type: 'POST',
		//		success: function (results) {
		//			if (cachedMatchSequence === matchSequence) {
		//				matchSequence++;
		//				updateMatchCountDisplay(results);
		//			} else { console.log('match sequence fail'); }
		//		}
		//	});
		//}
	}

	function hideMatchCount() { $('#matchCountPanel').fadeOut(100); }

	function updateMatchCountDisplay(count) {
		$('#matchCount').html(formatNumber(count));
		$('#matchCountPanel').fadeIn(300);
	}
	</script>
	<div class="modal fade" id="selectQuickSearchModal" tabindex="-1" role="dialog" aria-labelledby="selectQuickSearch" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
			</div>
			<div class="modal-body input-group">
				<h3 class="text-primary modal-title">
					<ul class="nav nav-tabs">
						<li><a href="#" onclick="openSearchFormModal();"><span class="glyphicon glyphicon-search"></span> Search Filters</a></li>
						<li class="active"><a href="#"><span class="glyphicon glyphicon-flash"></span> Quick Searches</a></li>
					</ul>
				</h3>
				<div class="row">
					<div class="col-md-12 text-center">
						<br />
						<div id="selectQuickSearch_Controls">
							<select id="SearchCriteria_QuickSearchOverride" class="input-lg"></select>
							<button class="btn btn-primary btn-lg" style="vertical-align:baseline;" id="selectQuickSearch_Button"><span class="glyphicon glyphicon-search"></span> GO</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<script>
	$('#selectQuickSearch_Button').click(function () { search(true); });

	function openSelectQuickSearchModal() {
		$('.modal').modal('hide');
		$('#selectQuickSearchModal').modal('show');
		$('#selectQuickSearch_Controls').hide();
		loadSelectQuickSearches();
	}

	function loadSelectQuickSearches() {
		$.ajax({
			url: '/QuickSearch/Index',
			contentType: 'application/json; charset=utf-8',
			dataType: 'json',
			type: 'POST',
			success: function (results) {
				$('#SearchCriteria_QuickSearchOverride').empty();
				$('#SearchCriteria_QuickSearchOverride').append('<option value="" disabled selected hidden>select a quick search...</option>');
				$.each(results, function (i, item) {
					var options = '';
					$.each(item.OptionGroup,
						function(i, item) {
							options += '<option value="' + item.Value + '">' + item.Name + '</option>';
						}
					);
					$('#SearchCriteria_QuickSearchOverride').append('<optgroup label="' + item.Label + '">' + options + '</optgroup>');
				});
				$('#selectQuickSearch_Controls').fadeIn();
			}
		});
	}
</script>
	<div class="modal fade" id="saveSearchToListModal" tabindex="-1" role="dialog" aria-labelledby="Results to List" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
				<h4 class="modal-title" id="myModalLabel">Save Results to List</h4>
			</div>
			<div class="modal-body">
				&nbsp; <select id="myListsSelect" style="display: none;" class="input-lg" onchange="myListsSelectChange();"></select>
				<input type="text" id="newParcelListName" style="display: none;" class="input-lg" placeholder="new list name..." />
				<div class="row text-center">
					<span id="saveSearchToListLoading"></span>
				</div>
				<br />
				<br />
				<div id="saveSearchToListExistsError" style="display: none;" class="alert alert-danger text-center">
					<p class="lead">List already exists</p>
					Try another list name or <a href="javascript:initializeSaveSearchToListModal();">click here to select from your existing lists.</a>
				</div>
				<div id="saveSearchToListSuccessMessage" style="display: none;" class="alert alert-success text-center">
					<p class="lead">Results Saved to List.</p>
					<br /><a class="btn btn-primary" href="../Lists" target="_blank">View My Lists</a>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" onclick="beginSaveSearchToList();">Save</button>
				<button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>
<script>
	function cleanupSaveSearchToListModal() {
		$("#saveSearchToListLoading").html("");
		$("#saveSearchToListExistsError").hide();
		$("#saveSearchToListSuccessMessage").hide();
		$("#newParcelListName").val("");
	}

	function initializeSaveSearchToListModal() {
		cleanupSaveSearchToListModal();
		loadListSelectOptions();
	}

	function openSaveSearchToListModal() {
		$("#saveSearchToListModal").modal("show");
		initializeSaveSearchToListModal();
	}
	function closeSaveSearchToListModal() {
		cleanupSaveSearchToListModal();
		$("#saveSearchToListModal").modal("hide");
	}

	function beginSaveSearchToList() {
		var selectedListId = $("#myListsSelect option:selected").val();
		var newListName = $("#newParcelListName").val();
		console.log(selectedListId);

		if (selectedListId == 0) createListAndSaveSearch(newListName);
		else saveSearchToList(selectedListId);
	}

	function saveSearchToList(listId) {
		$("#myListsSelect").hide();
		$("#newParcelListName").hide();
		$("#saveSearchToListLoading").html(loadingHtml);

		if (listId > 0) {
			var searchCriteria = resultsCriteria; //trying out a global variable instead of currentCriteria() for Safari / Mac (alternative: load criteria from user setting)
			var postData = { SearchCriteria: searchCriteria, listId: listId };
			$.ajax({
				url: '/Parcel/SearchToList/',
				data: JSON.stringify(postData),
				contentType: 'application/json; charset=utf-8',
				dataType: 'json',
				type: 'POST',
				success: function (data) {
					$("#saveSearchToListLoading").html("");
					$('#saveSearchToListSuccessMessage').fadeIn();
					$('#saveSearchToListSuccessMessage a').attr("href", "../Lists?ListId=" + listId);
				}
			});
		}
	}

	function createListAndSaveSearch(listName) {
		if (listName) {
			var postData = { listName: listName };
			$.ajax({
				url: '/ParcelList/Create/',
				data: JSON.stringify(postData),
				contentType: 'application/json; charset=utf-8',
				dataType: 'json',
				type: 'POST',
				success: function (data) {
					if (data > 0) saveSearchToList(data);
					else $("#saveSearchToListExistsError").fadeIn();
				}
			});
		}
	}

	function loadListSelectOptions() {
		$('#newParcelListName').hide();
		$('#myListsSelect').hide();
		$.ajax({
			url: '/ParcelList/Get',
			contentType: 'application/json; charset=utf-8',
			dataType: 'json',
			type: 'POST',
			success: function (results) {
				$('#myListsSelect').empty();
				$('#myListsSelect').append('<option value="">select a list...</option>');
				var listCount = 0;
				$.each(results, function (i, item) {
					var option = '<option value="' + item.Id + '">' + item.Name + '</option>';
					$('#myListsSelect').append(option);
					listCount++;
				});
				$('#myListsSelect').append('<option value="0">create new list...</option>');
				$('#myListsSelect').prop("selectedIndex", 0); //set to first element
				if (listCount === 0) $('#newParcelListName').fadeIn();
				else $('#myListsSelect').fadeIn();
			}
		});
	}

	function myListsSelectChange() {
		var newListId = $('#myListsSelect option:selected').val();
		console.log("new selected list id:" + newListId);
		if (newListId.toString() === "0") {
			console.log("create a new list");
			$('#myListsSelect').hide();
			$('#newParcelListName').fadeIn();
		} else {
			console.log('skipping new list: ' + newListId);
		}
	}
</script>
</div>
<script>
	$(document).ready(function () {
		var searchCriteria = {"QuickSearchOverride":null,"Coordinates":{"Latitude":0,"Longitude":0},"TextFilter":"092729000001050000","TaxStatus":null,"MaxRadiusMiles":null,"MaxResults":null,"MinPrice":null,"MaxPrice":null,"MinAcreage":null,"MaxAcreage":null,"MaxDaysOld":null,"MaxDaysUnavailable":null,"PropertyType":null,"State":"FL","CountyCode":0,"MinAmountDueAtSale":null,"MaxAmountDueAtSale":null,"MinTotalValue":null,"MaxTotalValue":null,"InventoryType":null,"Occupancy":null,"RemoteOwners":null};

			if (searchCriteria) loadParcels(searchCriteria); //initial search

		$(window).keydown(function (event) {
			if (event.keyCode === 13) {
				event.preventDefault();
				search();
				return false;
			}
		});
	});
	//changing to use currentQueryString() to work in Safari
	function resultsToCsv() { window.open("/Parcel/Download?" + currentQueryString(), "_blank"); }
	function resultsToList() { openSaveSearchToListModal(); }
	function resultsToMap() { window.open("/Map?" + currentQueryString(), "_blank"); }

	function showOptions() { $("#viewOptions").fadeIn(); }
	function hideOptions() { $("#viewOptions").fadeOut(); }

	function search(isQuickSearch = false) {
		if (!isQuickSearch) {
			$("#SearchCriteria_QuickSearchOverride option:selected").val("");
			updateSearchCriteriaDefaults();
		}
		searchCriteria = currentCriteria();
		window.location.href = "/Parcel?" + criteriaToQueryString(searchCriteria, true);
		//loadParcels(searchCriteria); //uncomment to do search without page reload
	}

	function loadParcels(searchCriteria) {
		//clearRows($("#resultsTable")); //not needed unless we are doing AJAX reloads
		loadingState();
		$(".modal").modal("hide");

		resultsCriteria = searchCriteria;
		var request = "{\"SearchCriteria\" : " + JSON.stringify(searchCriteria) + "}";

		$.ajax({
			url: "/Parcel/Search",
			data: request,
			contentType: "application/json; charset=utf-8",
			dataType: "json",
			type: "POST",
			success: function (results) {
				showResults();
				var parcelCount = 0;
				$.each(results, function (i, item) {
					addRow(results[i]);
					parcelCount++;
				});
				updateResultCount(parcelCount);
			}
		});
	}

	function loadingState() {
		$("#resultCount").html(loadingHtml);
		$("#nav").prop("disabled", true);
		hideOptions();
	}

	function updateResultCount(i) {
		$("#resultCount").html("<h3>" + i.toLocaleString("en") + " parcels</h3>");
		$("#nav").prop("disabled", false);
		if (i > 0) { showOptions(); }
	}

	$("#resultsToMapButton").click(function () { resultsToMap(); });
	$("#resultsToListButton").click(function () { resultsToList(); });
</script>
	<script>
		$("#exportButton").click(function () { trialRedirect(); });
	</script>

<script src="/bundles/bootstrap?v=M4Nk6kIOwMFflsEKET0iPL9i5YBqbzMzvUOrd8gyCnw1"></script>


	<script>
		$(".body-content").fadeOut(0);
		$(".body-content").fadeIn(500);
	</script>
</body>
</html>
